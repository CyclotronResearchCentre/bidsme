# ------------------------------------------------------------------------------
# BIDScoiner maps the data in your [raw] data folder to a [bidsdata] BIDS data
# folder. The key-value mapping that is used for that is based on:
#
# 1) Information in the MRI header files (DICOM, PAR/REC or .7 format)
# 2) Information from nifti headers (e.g. image dimensionality)
# 3) Information in the file structure (file- and/or directory names)
#
# So, key-value mapping from the file structure takes precedence over key-value
# mapping from the nifti headers, which takes precedence over key-value mapping
# from the MRI headers. The complete set of <keys> of the key-value mapping can
# be seen in the BIDS template below. The associated values are extracted from
# each as specified in the corresponding key-value logic YAML entries below.
#
# This file is automatically generated from [bidsmapper.py] and [bidsmap.yaml].
# Adapt the key-value entries below to your needs before running [bidscoiner.py].
# See [heuristics/bidsmap_template.yaml] for information on how to set the defaults.
# NB: All the files that you need to have in the BIDS directory need to be in
# this file!
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# DICOM key-value logic (DICOM fields that are mapped to the BIDS labels)
# Special substitutions can be performed using python's Format
# Specification Mini-Language), <> denote subsitution by DICOM field
# ------------------------------------------------------------------------------

# TODO: update with a newer layout

DICOM:

  participant_label: ~
  session_label: ~

  anat:
    - identifier:
        - SeriesDescription: MPRAGE
          SequenceName: tfl*
      acq_label: MPRAGE
      rec_label: ~
      run_index: ~
      mod_label: ~
      suffix: T1w
      ce_label: ~
    - identifier:
        - SeriesDescription: MP2RAGE optimal contrast
          ScanningSequence: tfl
      acq_label: MP2RAGE
      rec_label: ~
      run_index: ~
      mod_label: ~
      suffix: T1w
      ce_label: ~

  func:
    - identifier:
        - SeriesDescription: fmri_STOP
          ScanningSequence: EP
      task_label: stop
      acq_label: ~
      rec_label: ~
      run_index: ~
      echo_index: ~
    - identifier:
        - SeriesDescription: [fMRI_Reward_01, fmri_rewardtask_01]
          SequenceName: epi2d
      task_label: reward
      acq_label: ~
      rec_label: ~
      run_index: 01
      echo_index: ~
    - identifier:
        - SeriesDescription: [fMRI_Reward_02, fmri_rewardtask_02]
          SeqName: epi2d
      task_label: reward
      acq_label: ~
      rec_label: ~
      run_index: 02
      echo_index: ~

  beh:

  dwi:
    - identifier:
        - SeriesDescription: [dti, dsi]
          SequenceName: epi2ddiff
      acq_label: <SeriesDescription>
      run_index: ~

  fmap:
    - identifier:
        - SeriesDescription: dti
          SeqName: epi2d
      acq_label: <SeriesDescription>
      run_index: ~
      dir_label: ~

  seriesnr_seriesdescription:
    - identifier:
        - SeriesDescription: SWI
          SeqName: tfl
      acq_label: <SeriesNumber>_<SeriesDescription>
    - identifier:
        - SeriesDescription: ASL*
          SeqName: ~
      acq_label: ASl


# ------------------------------------------------------------------------------
# PAR key-value logic (Philips PAR fields that are mapped to the BIDS labels)
# ------------------------------------------------------------------------------
PAR:


# ------------------------------------------------------------------------------
# P*.7 key-value logic (GE fields that are mapped to the BIDS labels)
# -------------------------------------------------------------------------------
P7:


# ------------------------------------------------------------------------------
# Nifti key-value logic (Nifti fields that are mapped to the BIDS labels)
# ------------------------------------------------------------------------------
Nifti:


# ------------------------------------------------------------------------------
# File system key-value logic (these file- and foldernames will be mapped to the
# BIDS labels; Special substitutions can be performed using python's Format
# Specification Mini-Language)
# ------------------------------------------------------------------------------
FileSystem:
  participant_label: ^sub-{.*}
  session_label: ^ses-{.*}
